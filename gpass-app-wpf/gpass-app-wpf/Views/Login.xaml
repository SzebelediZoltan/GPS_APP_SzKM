<Window x:Class="gpass_app_wpf.Views.Login"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="GPass - BejelentkezÃ©s" Height="540" Width="400"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource LoginOuterBg}">

    <Border Background="{DynamicResource LoginCardBg}"
            BorderBrush="{DynamicResource LoginCardBorder}"
            BorderThickness="1" CornerRadius="12"
            Margin="36,26,36,26" Padding="36,24">
        <StackPanel>

            <!-- Logo + tÃ©mavÃ¡ltÃ³ -->
            <Grid Margin="0,0,0,4">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock Text="â¬¡" FontSize="22" Foreground="{DynamicResource Accent}"
                               VerticalAlignment="Center" Margin="0,0,7,0"/>
                    <TextBlock Text="GPASS" FontSize="22" FontWeight="Bold"
                               Foreground="{DynamicResource Accent}" VerticalAlignment="Center"/>
                </StackPanel>
                <Button x:Name="themeToggleBtn" Grid.Column="1"
                        Content="ðŸŒ™" FontSize="13" Width="30" Height="30" Padding="0"
                        Background="{DynamicResource ToggleBtnBg}"
                        Foreground="{DynamicResource ToggleBtnFg}"
                        BorderThickness="1" BorderBrush="{DynamicResource SurfaceBorderBrush}"
                        Click="ThemeToggle_Click" ToolTip="TÃ©ma vÃ¡ltÃ¡sa"/>
            </Grid>

            <TextBlock Text="Admin Panel" FontSize="12"
                       Foreground="{DynamicResource MutedText}" Margin="0,0,0,20"/>

            <!-- HibasÃ¡v - fix magassÃ¡g, mindig ott van a helye -->
            <Border Height="36"
                    Background="#3D1515" BorderBrush="#C53030" BorderThickness="1"
                    CornerRadius="5" Padding="10,0" Margin="0,0,0,12"
                    Visibility="{Binding HasError, Converter={StaticResource BoolToVisibility}}">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock Text="âš  " Foreground="#FC8181" FontWeight="Bold" VerticalAlignment="Center"/>
                    <TextBlock Text="{Binding ErrorMessage}" Foreground="#FC8181"
                               FontSize="12" VerticalAlignment="Center"
                               TextTrimming="CharacterEllipsis"/>
                </StackPanel>
            </Border>

            <!-- FelhasznÃ¡lÃ³ -->
            <TextBlock Text="FelhasznÃ¡lÃ³" FontSize="12" FontWeight="SemiBold"
                       Foreground="{DynamicResource SecondaryText}" Margin="0,0,0,4"/>
            <TextBox Height="36" FontSize="13" Margin="0,0,0,12"
                     IsEnabled="{Binding Loading, Converter={StaticResource InverseBool}}"
                     Text="{Binding UserIdentifier, UpdateSourceTrigger=PropertyChanged}"/>

            <!-- JelszÃ³ -->
            <TextBlock Text="JelszÃ³" FontSize="12" FontWeight="SemiBold"
                       Foreground="{DynamicResource SecondaryText}" Margin="0,0,0,4"/>
            <PasswordBox x:Name="passwordBox" Height="36" FontSize="13" Margin="0,0,0,12"
                         IsEnabled="{Binding Loading, Converter={StaticResource InverseBool}}"/>

            <!-- Szerver -->
            <TextBlock Text="Szerver" FontSize="12" FontWeight="SemiBold"
                       Foreground="{DynamicResource SecondaryText}" Margin="0,0,0,4"/>
            <ComboBox x:Name="serverCombo" Height="36" FontSize="13" Margin="0,0,0,20"
                      ItemsSource="{Binding Servers}"
                      SelectedItem="{Binding SelectedServer, Mode=TwoWay}"
                      IsEnabled="{Binding Loading, Converter={StaticResource InverseBool}}"
                      Foreground="{DynamicResource PrimaryText}"
                      Background="{DynamicResource InputBackground}"
                      BorderBrush="{DynamicResource InputBorder}"/>

            <!-- BejelentkezÃ©s gomb -->
            <Button Height="40" FontSize="14" FontWeight="SemiBold"
                    Background="{DynamicResource Accent}" Foreground="White"
                    BorderThickness="0" Command="{Binding LoginCommand}">
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="6">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Button.Template>
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="â³ " FontSize="14"
                               Visibility="{Binding Loading, Converter={StaticResource BoolToVisibility}}"/>
                    <TextBlock Text="BejelentkezÃ©s" Foreground="White"/>
                </StackPanel>
            </Button>

        </StackPanel>
    </Border>
</Window>
